\documentclass[t,aspectratio=169]{beamer}
\usepackage{redhat}
\usepackage[normalem]{ulem}

\title{Ansible}
\subtitle{Configuration Management System done right}
\author{Fabio Alessandro Locati}
\date{29 November 2016}
\institute{Senior Cloud Consultant}

\begin{document}

\maketitle

\begin{frame}
    \frametitle{Outline}
    \tableofcontents
\end{frame}

\section{Intro}
\begin{frame}
    \frametitle{About me}
    \begin{itemize}
        \item<2-> IT Consultant since 2004
        \item<3-> Ansible user since 2013
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Today's problems}
    \begin{itemize}
        \item<2-> Auditability
        \item<3-> Job-hopping
        \item<4-> Speed
        \item<5-> Scalability
        \item<6-> Horizontal scaling (IaaS ``cloud'')
        \item<7-> Expected QoS
    \end{itemize}
\end{frame}

\section{Automation}

\begin{frame}
    \frametitle{Advantages}
    \begin{itemize}
        \item<2-> Infrastructure as Code
        \begin{itemize}
            \item<3-> Code is the infrastructure documentation*
            \item<4-> Simplify auditability
        \end{itemize}
        \item<5-> Infrastructures with no humans with \textit{root} powers
        \item<6-> Easy and quick to scale out
    \end{itemize}
\end{frame}

\section{Automation Concepts}
\begin{frame}
    \frametitle{Agent}
    An Agent is a daemon that runs on every controlled machine and that will check with the server (master) every N minutes to ensure that the host is aligned with the latest configuration version. If this is not the case, the Agent will download the lastest configuration version and apply it.
    \begin{itemize}
        \item<2-> Advantages
        \begin{itemize}
            \item<3-> High performance during commands execution
            \item<4-> Connection between clients and server is client managed
        \end{itemize}
        \item<5-> Disadvantages
        \begin{itemize}
            \item<6-> Forces the master to be in the least secure network segment
            \item<7-> Resources are used even if no changes are being applied
            \item<8-> More daemons to take care of
            \item<9-> Chicken and Egg problem
        \end{itemize}
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Idempotence}
    \begin{definition}{Idempotence}
    is the property of certain operations in mathematics and computer science, that can be applied multiple times without changing the result beyond the initial application. 
    \end{definition}
\end{frame}

\begin{frame}
    \frametitle{Infrastructure as \sout{Code} Data}
    \begin{itemize}
        \item<2-> Really simple to write
        \item<3-> Even simpler to read
        \item<4-> Only the bit important to you need to be written
    \end{itemize}
\end{frame}

\begin{frame}[fragile]
    \frametitle{Example of syntax}
    \begin{semiverbatim}
\textcolor{green}{- hosts:} \textcolor{blue}{all}
\textcolor{green}{  become:} \textcolor{blue}{True}
\textcolor{green}{  tasks:}
\textcolor{green}{  - name:} \textcolor{blue}{Ensure MySQL is installed}
\textcolor{green}{    yum:}
\textcolor{green}{      name:} \textcolor{blue}{mysql}
\textcolor{green}{      state:} \textcolor{blue}{present}
\textcolor{green}{  - name:} \textcolor{blue}{Ensure user tom is present}
\textcolor{green}{    user:}
\textcolor{green}{      name:} \textcolor{blue}{tom}
\textcolor{green}{      state:} \textcolor{blue}{present}
    \end{semiverbatim}
\end{frame}

\section{Ansible}
\begin{frame}
    \frametitle{Ansible}
    \begin{itemize}
        \item<2-> Written in Python
        \item<3-> Mainly push mode
        \item<4-> Advantages
        \begin{itemize}
            \item<5-> Infrastructure as \textbf{Data} (in YAML format)
            \item<6-> Very gentle learning curve
            \item<7-> Very simple setup
            \item<8-> Balanced tool
        \end{itemize}
        \item<9-> Disadvantages
        \begin{itemize}
            \item<10-> Not very good introspection tools (yet!)
            \item<11-> Community is young
        \end{itemize}
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Usual deployment process}
    \begin{itemize}
        \item<2-> Automate few actions with Ansible Playbooks
        \item<3-> Create Ansible Roles for the setup of a simple machine type
        \item<4-> Rollout of the first machines completely managed with Ansible
        \item<5-> Migration of all machines to Ansible
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Additional resources}
    \begin{itemize}
        \item Slides: https://slides.fale.io/20161129-en-ansible.pdf
        \item Demo code: https://github.com/fale/ansible\_lamp
        \item Official documentation: http://docs.ansible.com
        \item Videos: https://www.ansible.com/videos
        \item Whitepapers: https://www.ansible.com/whitepapers
        \item Ebooks: https://www.ansible.com/ebooks
    \end{itemize}
\end{frame}

\makethanks

\end{document}
